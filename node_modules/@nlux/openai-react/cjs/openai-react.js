"use strict";var e=require("@nlux/openai"),t=require("react"),r=require("@nlux/react");const a="hooks/getAdapterBuilder",s=t=>{const{apiKey:s,dataTransferMode:o,systemMessage:n,model:u}=t||{};if(o&&"stream"!==o&&"fetch"!==o)throw new r.NluxUsageError({source:a,message:"Data transfer mode not supported"});if(!s)throw new r.NluxUsageError({source:a,message:"API key is required"});let i=e.createUnsafeChatAdapter().withApiKey(s);return void 0!==u&&(i=i.withModel(u)),o&&(i=i.withDataTransferMode(o)),n&&(i=i.withSystemMessage(n)),i};Object.defineProperty(exports,"createUnsafeChatAdapter",{enumerable:!0,get:function(){return e.createUnsafeChatAdapter}}),exports.useUnsafeChatAdapter=e=>{const[r,a]=t.useState(!1),[o,n]=t.useState(s(e)),{apiKey:u,dataTransferMode:i,systemMessage:d,model:c}=e||{};return t.useEffect((()=>{if(!r)return void a(!0);const t=s(e);n(t)}),[u,i,d,c]),o};
