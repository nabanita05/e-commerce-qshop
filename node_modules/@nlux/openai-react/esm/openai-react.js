import{createUnsafeChatAdapter as e}from"@nlux/openai";export{createUnsafeChatAdapter}from"@nlux/openai";import{useState as t,useEffect as r}from"react";import{NluxUsageError as o}from"@nlux/react";const s="hooks/getAdapterBuilder",a=t=>{const{apiKey:r,dataTransferMode:a,systemMessage:i,model:n}=t||{};if(a&&"stream"!==a&&"fetch"!==a)throw new o({source:s,message:"Data transfer mode not supported"});if(!r)throw new o({source:s,message:"API key is required"});let d=e().withApiKey(r);return void 0!==n&&(d=d.withModel(n)),a&&(d=d.withDataTransferMode(a)),i&&(d=d.withSystemMessage(i)),d},i=e=>{const[o,s]=t(!1),[i,n]=t(a(e)),{apiKey:d,dataTransferMode:m,systemMessage:p,model:f}=e||{};return r((()=>{if(!o)return void s(!0);const t=a(e);n(t)}),[d,m,p,f]),i};export{i as useUnsafeChatAdapter};
